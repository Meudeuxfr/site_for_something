(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8063)}])},8063:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(7876),s=a(4232),i=a(9744),l=a(1231);let n=e=>{let{table:t,onReserve:a}=e,s=async()=>{var e,r;let s=prompt("Enter reservation (YYYY-MM-DD HH:mm):");if(!s)return;let{data:l}=await i.N.from("reservations").select("*").eq("table_id",t.id).eq("reservation_time",s);if(l&&l.length>0)return void alert("Table already reserved at this time.");let n=null!=(r=null==(e=(await i.N.auth.getUser()).data.user)?void 0:e.id)?r:null,{error:d}=await i.N.from("reservations").insert([{table_id:t.id,user_id:n,reservation_time:s}]);d?alert(d.message):(alert("Table reserved!"),a())};return(0,r.jsxs)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"p-6 bg-white dark:bg-gray-800 text-black dark:text-white rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 hover:shadow-2xl transition-shadow duration-300",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-2",children:["Table #",t.id]}),(0,r.jsx)("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:t.reserved?"Reserved":"Available"}),(0,r.jsx)("button",{onClick:s,disabled:t.reserved,className:"px-4 py-2 rounded-full text-white font-semibold transition duration-200 ease-in-out ".concat(t.reserved?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-md"),children:t.reserved?"Unavailable":"Reserve"})]})};var d=a(8230),o=a.n(d),c=a(44),x=a(8805),h=a(9099);function m(){let{theme:e,toggleTheme:t}=(0,c.DP)(),{t:a}=(0,x.Bd)(),s=(0,h.useRouter)(),{locale:i}=s,l=e=>{s.push(s.pathname,s.asPath,{locale:e})};return(0,r.jsxs)("nav",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-800 shadow-md",children:[(0,r.jsx)(o(),{href:"/",className:"text-xl font-bold dark:text-white",children:"\uD83C\uDF7D️ My Restaurant"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:t,className:"px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600 transition",children:"dark"===e?"☀️ Light":"\uD83C\uDF19 Dark"}),(0,r.jsx)("button",{onClick:()=>l("en"===i?"pt":"en"),className:"px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600 transition",children:"en"===i?"PT":"EN"}),(0,r.jsx)(o(),{href:"/auth/login",children:(0,r.jsx)("button",{className:"px-3 py-1 rounded bg-green-500 text-white hover:bg-green-600 transition",children:a("login")})}),(0,r.jsx)(o(),{href:"/auth/register",children:(0,r.jsx)("button",{className:"px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600 transition",children:a("register")})})]})]})}var b=a(4846);let u=e=>{let{onBookNow:t}=e,{t:a}=(0,b.Bd)();return(0,r.jsxs)("section",{className:"relative bg-[url('/hero-bg.jpg')] bg-cover bg-center h-screen flex items-center justify-center",children:[(0,r.jsx)("div",{className:"bg-black/60 absolute inset-0 z-0"}),(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-center text-white px-4",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 font-sans dark:text-white text-black",children:a("Welcome to Our Restaurant")}),(0,r.jsx)("p",{className:"text-lg md:text-2xl mb-6 font-light dark:text-gray-300 text-black",children:a("Reserve your table with ease")}),(0,r.jsx)("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 px-6 py-3 rounded-full text-white transition shadow-lg",children:a("Book Now")})]})]})},g=[{icon:"\uD83C\uDF77",title:"Fine Dining",desc:"Curated dishes by top chefs."},{icon:"\uD83D\uDCC5",title:"Quick Booking",desc:"Reserve your table in seconds."},{icon:"\uD83C\uDF89",title:"Private Events",desc:"We host your special day."}],v=()=>(0,r.jsxs)("section",{className:"py-20 bg-gray-100 dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"text-center mb-10",children:(0,r.jsx)("h2",{className:"text-3xl font-bold",children:"Why Choose Us"})}),(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-6 px-4 max-w-6xl mx-auto",children:g.map(e=>{let{icon:t,title:a,desc:s}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:t}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:a}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s})]},a)})})]}),p=()=>(0,r.jsxs)("section",{className:"py-20 text-center bg-white dark:bg-black",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"About Us"}),(0,r.jsx)("p",{className:"max-w-2xl mx-auto text-gray-600 dark:text-gray-300",children:"We are committed to giving you the best dining experience — fresh ingredients, elegant ambiance, and friendly staff."})]}),y=()=>(0,r.jsx)("footer",{className:"bg-gray-200 dark:bg-gray-900 text-center text-sm py-6 mt-20",children:(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"\xa9 2025 My Restaurant. All rights reserved."})});function N(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null),c=async()=>{l(!0);let{data:e,error:a}=await i.N.from("tables").select("*").eq("restaurant_id",1);a?o(a.message):t(e||[]),l(!1)};(0,s.useEffect)(()=>{c()},[]);let x=async e=>{var t;let a=prompt("Enter reservation time (YYYY-MM-DD HH:mm):");if(!a)return;let r=await i.N.from("reservations").select("*").eq("table_id",e).eq("reservation_time",a);if(r.data&&r.data.length>0)return void alert("This table is already reserved at that time.");let{data:s}=await i.N.auth.getUser(),l=null==(t=s.user)?void 0:t.id,{error:n}=await i.N.from("reservations").insert([{table_id:e,user_id:l,reservation_time:a}]);n?alert("Failed to reserve: "+n.message):(alert("Reserved!"),await c())};return(0,r.jsxs)("div",{className:"min-h-screen bg-[url('/background.jpg')] bg-cover bg-center text-gray-900 dark:text-white",children:[(0,r.jsx)(m,{}),(0,r.jsx)(u,{}),(0,r.jsx)(v,{}),(0,r.jsx)(p,{}),(0,r.jsxs)("main",{id:"reserve",className:"container mx-auto mt-20 px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-center mb-6",children:"Reserve a Table"}),a?(0,r.jsx)("p",{className:"text-center text-xl",children:"Loading tables..."}):d?(0,r.jsx)("p",{className:"text-center text-red-500",children:d}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsx)(n,{table:e,onReserve:()=>x(e.id)},e.id))})]}),(0,r.jsx)(y,{})]})}},9744:(e,t,a)=>{"use strict";a.d(t,{N:()=>r});let r=(0,a(6879).UU)("https://fqbhplyniurwxtgrfpvg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxYmhwbHluaXVyd3h0Z3JmcHZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3MDUzNTYsImV4cCI6MjA2MDI4MTM1Nn0.ox0jzza3ddbuKGFLmgzEtl7r_QC2Q-8V8AKEzWyA_qg")}},e=>{var t=t=>e(e.s=t);e.O(0,[721,16,636,593,792],()=>t(6760)),_N_E=e.O()}]);