(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8063)}])},8063:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(7876),r=a(4232),l=a(9744),i=a(1231);let n=e=>{let{table:t,onReserve:a}=e,r=async()=>{var e,s;let r=prompt("Enter reservation (YYYY-MM-DD HH:mm):");if(!r)return;let{data:i}=await l.N.from("reservations").select("*").eq("table_id",t.id).eq("reservation_time",r);if(i&&i.length>0)return void alert("Table already reserved at this time.");let n=null!=(s=null==(e=(await l.N.auth.getUser()).data.user)?void 0:e.id)?s:null,{error:d}=await l.N.from("reservations").insert([{table_id:t.id,user_id:n,reservation_time:r}]);d?alert(d.message):(alert("Table reserved!"),a())};return(0,s.jsxs)(i.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"p-6 bg-white dark:bg-gray-800 text-black dark:text-white rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 hover:shadow-2xl transition-shadow duration-300",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold mb-2",children:["Table #",t.id]}),(0,s.jsx)("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:t.reserved?"Reserved":"Available"}),(0,s.jsx)("button",{onClick:r,disabled:t.reserved,className:"px-4 py-2 rounded-full text-white font-semibold transition duration-200 ease-in-out ".concat(t.reserved?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-md"),children:t.reserved?"Unavailable":"Reserve"})]})};var d=a(9099),o=a(44),c=a(4846);let x=()=>{let{theme:e,toggleTheme:t}=(0,r.useContext)(o.D),{i18n:a}=(0,c.Bd)(),l=(0,d.useRouter)();return(0,s.jsxs)("nav",{className:"fixed top-0 w-full flex justify-between items-center px-6 py-4 bg-white/70 dark:bg-black/70 backdrop-blur z-50",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"\uD83C\uDF7D My Restaurant"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:t,className:"px-3 py-1 border rounded",children:"light"===e?"\uD83C\uDF19 Dark":"☀️ Light"}),(0,s.jsxs)("button",{onClick:()=>{a.changeLanguage("en"===a.language?"pt":"en")},className:"px-3 py-1 border rounded",children:["\uD83C\uDF10 ",a.language.toUpperCase()]}),(0,s.jsx)("button",{onClick:()=>l.push("/auth/login"),className:"px-4 py-2 bg-primary text-white rounded hover:bg-blue-700 transition",children:"Login"})]})]})},m=e=>{let{onBookNow:t}=e,{t:a}=(0,c.Bd)();return(0,s.jsxs)("section",{className:"relative bg-[url('/hero-bg.jpg')] bg-cover bg-center h-screen flex items-center justify-center",children:[(0,s.jsx)("div",{className:"bg-black/60 absolute inset-0 z-0"}),(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-center text-white px-4",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 font-sans dark:text-white text-black",children:a("Welcome to Our Restaurant")}),(0,s.jsx)("p",{className:"text-lg md:text-2xl mb-6 font-light dark:text-gray-300 text-black",children:a("Reserve your table with ease")}),(0,s.jsx)("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 px-6 py-3 rounded-full text-white transition shadow-lg",children:a("Book Now")})]})]})},b=[{icon:"\uD83C\uDF77",title:"Fine Dining",desc:"Curated dishes by top chefs."},{icon:"\uD83D\uDCC5",title:"Quick Booking",desc:"Reserve your table in seconds."},{icon:"\uD83C\uDF89",title:"Private Events",desc:"We host your special day."}],h=()=>(0,s.jsxs)("section",{className:"py-20 bg-gray-100 dark:bg-gray-800",children:[(0,s.jsx)("div",{className:"text-center mb-10",children:(0,s.jsx)("h2",{className:"text-3xl font-bold",children:"Why Choose Us"})}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-6 px-4 max-w-6xl mx-auto",children:b.map(e=>{let{icon:t,title:a,desc:r}=e;return(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:t}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:a}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r})]},a)})})]}),u=()=>(0,s.jsxs)("section",{className:"py-20 text-center bg-white dark:bg-black",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"About Us"}),(0,s.jsx)("p",{className:"max-w-2xl mx-auto text-gray-600 dark:text-gray-300",children:"We are committed to giving you the best dining experience — fresh ingredients, elegant ambiance, and friendly staff."})]}),g=()=>(0,s.jsx)("footer",{className:"bg-gray-200 dark:bg-gray-900 text-center text-sm py-6 mt-20",children:(0,s.jsx)("p",{className:"text-gray-700 dark:text-gray-400",children:"\xa9 2025 My Restaurant. All rights reserved."})});function p(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[d,o]=(0,r.useState)(null),c=async()=>{i(!0);let{data:e,error:a}=await l.N.from("tables").select("*").eq("restaurant_id",1);a?o(a.message):t(e||[]),i(!1)};(0,r.useEffect)(()=>{c()},[]);let b=async e=>{var t;let a=prompt("Enter reservation time (YYYY-MM-DD HH:mm):");if(!a)return;let s=await l.N.from("reservations").select("*").eq("table_id",e).eq("reservation_time",a);if(s.data&&s.data.length>0)return void alert("This table is already reserved at that time.");let{data:r}=await l.N.auth.getUser(),i=null==(t=r.user)?void 0:t.id,{error:n}=await l.N.from("reservations").insert([{table_id:e,user_id:i,reservation_time:a}]);n?alert("Failed to reserve: "+n.message):(alert("Reserved!"),await c())};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-red-100 to-pink-200 text-gray-900 dark:text-white",children:[(0,s.jsx)(x,{}),(0,s.jsx)(m,{}),(0,s.jsx)(h,{}),(0,s.jsx)(u,{}),(0,s.jsxs)("main",{id:"reserve",className:"container mx-auto mt-20 px-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-center mb-6",children:"Reserve a Table"}),a?(0,s.jsx)("p",{className:"text-center text-xl",children:"Loading tables..."}):d?(0,s.jsx)("p",{className:"text-center text-red-500",children:d}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsx)(n,{table:e,onReserve:()=>b(e.id)},e.id))})]}),(0,s.jsx)(g,{})]})}},9744:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(6879).UU)("https://fqbhplyniurwxtgrfpvg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxYmhwbHluaXVyd3h0Z3JmcHZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ3MDUzNTYsImV4cCI6MjA2MDI4MTM1Nn0.ox0jzza3ddbuKGFLmgzEtl7r_QC2Q-8V8AKEzWyA_qg")}},e=>{var t=t=>e(e.s=t);e.O(0,[721,231,636,593,792],()=>t(6760)),_N_E=e.O()}]);